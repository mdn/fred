pre-commit:
  parallel: true
  jobs:
    - run: npx prettier --write --cache --ignore-unknown {staged_files}
      stage_fixed: true

    - run: npx eslint --fix --cache {staged_files}
      stage_fixed: true

    - run: npx eslint --fix --cache .
      glob: eslint.config.js
      stage_fixed: true

    - run: npx stylelint --fix {staged_files}
      glob: "*.css"
      stage_fixed: true

    - run: npx stylelint --fix '**/*.css'
      glob: ".stylelintrc.json"
      stage_fixed: true

pre-push:
  piped: true
  jobs:
    - run: npm install

    - name: eslint/stylelint/tsc
      group:
        parallel: true
        jobs:
          - run: npx eslint --cache
          - run: npx stylelint '**/*.css'
          - run: npx tsc --noEmit

output:
  - summary
  - failure
